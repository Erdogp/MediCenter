<!DOCTYPE html>
<html xmlns="http://www.w3c.org/1999/xhtml"
		xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      	xmlns:f="http://xmlns.jcp.org/jsf/core"
		xmlns:h="http://xmlns.jcp.org/jsf/html"
    	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>MediCenter - Medicamentos por Clinica</title>
</h:head>
<h:body>
	<div align="center"  >
    <img src="resources/img/logo.jpeg" alt="" height="100" width="300"   />
     <li id="sidebar-1" ><a href="inicio.xhtml" > Inicio </a></li>
     </div>
    <h2>Clinicas Registradas</h2>
     <p:dataTable id="dt-clinica" value="#{medxclinicaView.clinicas}" var="clinica" 
    		paginator="true" rows="11" paginatorPosition="bottom" 
    		selectionMode="single" rowKey="#{clinica.idC}" >
    	<p:ajax event="rowSelect" listener="#{medxclinicaView.selectClinica}"  />
	    <p:column headerText="IdC">
	        <h:outputText value="#{clinica.idC}" />
	    </p:column>
	 
	    <p:column headerText="Nombre">
	        <h:outputText value="#{clinica.nombrec}" />
	    </p:column>
	   
	    <p:column headerText="Horario">
	        <h:outputText value="#{clinica.horario}" />
	    </p:column>
	  <p:column headerText="Distrito">
	        <h:outputText value="#{clinica.distrito.nombre}" />
	    </p:column>
	</p:dataTable>
	
     <h2>Lista de Medicamentos Registrados</h2>
    <p:dataTable id="dt-medicamentos" value="#{medxclinicaView.medicamentos}" var="medicamento" 
    		paginator="true" rows="11" paginatorPosition="bottom" 
    		selectionMode="single" rowKey="#{medicamento.id}" >
    	<p:ajax event="rowSelect" listener="#{medicamentoView.selectMedicamento}" />
	    <p:column headerText="Id">
	        <h:outputText value="#{medicamento.id}" />
	    </p:column>
	 
	    <p:column headerText="Nombre">
	        <h:outputText value="#{medicamento.nombre}" />
	    </p:column>
	   
	    <p:column headerText="Stock">
	        <h:outputText value="#{medicamento.stock}" />
	    </p:column>
	</p:dataTable>
	
    <p:dataTable id="dt-medxclinica" value="#{medxclinicaView.listamedXclinica}" var="medXClinica" 
    		paginator="true" rows="11" paginatorPosition="bottom" 
    		selectionMode="single" rowKey="#{medXClinica.idMedClinica}" >
    	<p:ajax event="rowSelect" listener="#{medxclinicaView.selectMediXClinica}"  />
	    <p:column headerText="Id">
	        <h:outputText value="#{medXClinica.idMedClinica}" />
	    </p:column>
	 
	    <p:column headerText="Medicamento">
	        <h:outputText value="#{medXClinica.medicamento.nombre}" />
	    </p:column>
	   
	    <p:column headerText="Stock">
	        <h:outputText value="#{medXClinica.medicamento.stock}" />
	    </p:column>
	    <p:column headerText="Clinica">
	        <h:outputText value="#{medXClinica.clinica.nombrec}" />
	    </p:column>
	</p:dataTable>
	
	<p:toolbar>
		<f:facet name="left">
			<p:commandButton value="Nuevo" actionListener="#{medxclinicaView.newMedicamento()}" 
				update=":dt-medxclinica" icon="pi pi-file" />
				
			<p:commandButton value="Grabar" actionListener="#{medxclinicaView.saveMedicamento()}" 
				update=":dt-clinica :dt-medicamentos :dt-medxclinica" icon="pi pi-save" />	
				
			<p:commandButton value="Editar" actionListener="#{medicamentoView.editMedicamento()}" 
				update=":dt-clinica :dt-medicamentos :dt-medxclinica" />
			<p:commandButton value="Eliminar" actionListener="#{medicamentoView.deleteMedicamento()}" 
				update=":dt-clinica :dt-medicamentos :dt-medxclinica" />

		</f:facet>
	</p:toolbar>
	
	
</h:body>
</html>